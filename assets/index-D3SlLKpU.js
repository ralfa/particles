(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const F of document.querySelectorAll('link[rel="modulepreload"]'))E(F);new MutationObserver(F=>{for(const P of F)if(P.type==="childList")for(const L of P.addedNodes)L.tagName==="LINK"&&L.rel==="modulepreload"&&E(L)}).observe(document,{childList:!0,subtree:!0});function l(F){const P={};return F.integrity&&(P.integrity=F.integrity),F.referrerPolicy&&(P.referrerPolicy=F.referrerPolicy),F.crossOrigin==="use-credentials"?P.credentials="include":F.crossOrigin==="anonymous"?P.credentials="omit":P.credentials="same-origin",P}function E(F){if(F.ep)return;F.ep=!0;const P=l(F);fetch(F.href,P)}})();var fr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function er(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var sr={exports:{}},Vn=sr.exports,nn;function et(){return nn||(nn=1,function(u,n){(function(l,E){u.exports=E()})(Vn,function(){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var l=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;function P(r){if(r==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function L(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de",Object.getOwnPropertyNames(r)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var i=Object.getOwnPropertyNames(e).map(function(a){return e[a]});if(i.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(a){o[a]=a}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var q=L()?Object.assign:function(r,e){for(var t,i=P(r),o,a=1;a<arguments.length;a++){t=Object(arguments[a]);for(var c in t)E.call(t,c)&&(i[c]=t[c]);if(l){o=l(t);for(var p=0;p<o.length;p++)F.call(t,o[p])&&(i[o[p]]=t[o[p]])}}return i},Y=typeof window<"u"?window:typeof fr<"u"?fr:typeof self<"u"?self:{};function H(r,e){return e={exports:{}},r(e,e.exports),e.exports}var ae=Y.performance&&Y.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date},re=b;function b(r){return!!r&&(typeof r=="object"||typeof r=="function")&&typeof r.then=="function"}var R=S;function S(r){return!r||typeof r!="object"?!1:typeof window=="object"&&typeof window.Node=="object"?r instanceof window.Node:typeof r.nodeType=="number"&&typeof r.nodeName=="string"}function I(){return typeof window<"u"&&window["canvas-sketch-cli"]}function f(){for(var r=arguments,e=0;e<arguments.length;e++)if(r[e]!=null)return r[e]}function g(){return typeof document<"u"}function C(r){return r&&typeof r.clear=="function"&&typeof r.clearColor=="function"&&typeof r.bufferData=="function"}function D(r){return r&&typeof r.save=="function"&&typeof r.scale=="function"&&typeof r.restore=="function"}function T(r){return R(r)&&/canvas/i.test(r.nodeName)&&typeof r.getContext=="function"}var W=H(function(r,e){e=r.exports=typeof Object.keys=="function"?Object.keys:t,e.shim=t;function t(i){var o=[];for(var a in i)o.push(a);return o}});W.shim;var Q=H(function(r,e){var t=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";e=r.exports=t?i:o,e.supported=i;function i(a){return Object.prototype.toString.call(a)=="[object Arguments]"}e.unsupported=o;function o(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}});Q.supported,Q.unsupported;var d=H(function(r){var e=Array.prototype.slice,t=r.exports=function(c,p,h){return h||(h={}),c===p?!0:c instanceof Date&&p instanceof Date?c.getTime()===p.getTime():!c||!p||typeof c!="object"&&typeof p!="object"?h.strict?c===p:c==p:a(c,p,h)};function i(c){return c==null}function o(c){return!(!c||typeof c!="object"||typeof c.length!="number"||typeof c.copy!="function"||typeof c.slice!="function"||c.length>0&&typeof c[0]!="number")}function a(c,p,h){var y,w;if(i(c)||i(p)||c.prototype!==p.prototype)return!1;if(Q(c))return Q(p)?(c=e.call(c),p=e.call(p),t(c,p,h)):!1;if(o(c)){if(!o(p)||c.length!==p.length)return!1;for(y=0;y<c.length;y++)if(c[y]!==p[y])return!1;return!0}try{var x=W(c),$=W(p)}catch{return!1}if(x.length!=$.length)return!1;for(x.sort(),$.sort(),y=x.length-1;y>=0;y--)if(x[y]!=$[y])return!1;for(y=x.length-1;y>=0;y--)if(w=x[y],!t(c[w],p[w],h))return!1;return typeof c==typeof p}}),m=H(function(r,e){(function(t){var i=function(){var h=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,y=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,w=/[^-+\dA-Z]/g;return function(x,$,G,ne){if(arguments.length===1&&p(x)==="string"&&!/\d/.test(x)&&($=x,x=void 0),x=x||new Date,x instanceof Date||(x=new Date(x)),isNaN(x))throw TypeError("Invalid date");$=String(i.masks[$]||$||i.masks.default);var oe=$.slice(0,4);(oe==="UTC:"||oe==="GMT:")&&($=$.slice(4),G=!0,oe==="GMT:"&&(ne=!0));var fe=G?"getUTC":"get",qe=x[fe+"Date"](),rr=x[fe+"Day"](),ue=x[fe+"Month"](),je=x[fe+"FullYear"](),Me=x[fe+"Hours"](),$e=x[fe+"Minutes"](),We=x[fe+"Seconds"](),Be=x[fe+"Milliseconds"](),Ae=G?0:x.getTimezoneOffset(),Te=a(x),nr=c(x),Je={d:qe,dd:o(qe),ddd:i.i18n.dayNames[rr],dddd:i.i18n.dayNames[rr+7],m:ue+1,mm:o(ue+1),mmm:i.i18n.monthNames[ue],mmmm:i.i18n.monthNames[ue+12],yy:String(je).slice(2),yyyy:je,h:Me%12||12,hh:o(Me%12||12),H:Me,HH:o(Me),M:$e,MM:o($e),s:We,ss:o(We),l:o(Be,3),L:o(Math.round(Be/10)),t:Me<12?i.i18n.timeNames[0]:i.i18n.timeNames[1],tt:Me<12?i.i18n.timeNames[2]:i.i18n.timeNames[3],T:Me<12?i.i18n.timeNames[4]:i.i18n.timeNames[5],TT:Me<12?i.i18n.timeNames[6]:i.i18n.timeNames[7],Z:ne?"GMT":G?"UTC":(String(x).match(y)||[""]).pop().replace(w,""),o:(Ae>0?"-":"+")+o(Math.floor(Math.abs(Ae)/60)*100+Math.abs(Ae)%60,4),S:["th","st","nd","rd"][qe%10>3?0:(qe%100-qe%10!=10)*qe%10],W:Te,N:nr};return $.replace(h,function(Ne){return Ne in Je?Je[Ne]:Ne.slice(1,Ne.length-1)})}}();i.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},i.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};function o(h,y){for(h=String(h),y=y||2;h.length<y;)h="0"+h;return h}function a(h){var y=new Date(h.getFullYear(),h.getMonth(),h.getDate());y.setDate(y.getDate()-(y.getDay()+6)%7+3);var w=new Date(y.getFullYear(),0,4);w.setDate(w.getDate()-(w.getDay()+6)%7+3);var x=y.getTimezoneOffset()-w.getTimezoneOffset();y.setHours(y.getHours()-x);var $=(y-w)/(864e5*7);return 1+Math.floor($)}function c(h){var y=h.getDay();return y===0&&(y=7),y}function p(h){return h===null?"null":h===void 0?"undefined":typeof h!="object"?typeof h:Array.isArray(h)?"array":{}.toString.call(h).slice(8,-1).toLowerCase()}r.exports=i})()});/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var M="",_,k=j;function j(r,e){if(typeof r!="string")throw new TypeError("expected a string");if(e===1)return r;if(e===2)return r+r;var t=r.length*e;if(_!==r||typeof _>"u")_=r,M="";else if(M.length>=t)return M.substr(0,t);for(;t>M.length&&e>1;)e&1&&(M+=r),e>>=1,r+=r;return M+=r,M=M.substr(0,t),M}var V=function(e,t,i){return e=e.toString(),typeof t>"u"?e:(i===0?i="0":i?i=i.toString():i=" ",k(i,t-e.length)+e)},te=function(){},B,ee={extension:"",prefix:"",suffix:""},J=["image/png","image/jpeg","image/webp"];function Z(r,e){return e===void 0&&(e={}),new Promise(function(t,i){e=q({},ee,e);var o=K(Object.assign({},e,{extension:"",frame:void 0})),a=r?"streamStart":"streamEnd",c=I();return c&&c.output&&typeof c[a]=="function"?c[a](q({},e,{filename:o})).then(function(p){return t(p)}):t({filename:o,client:!1})})}function X(r){return r===void 0&&(r={}),Z(!0,r)}function U(r){return r===void 0&&(r={}),Z(!1,r)}function ie(r,e){e===void 0&&(e={});var t=e.encoding||"image/png";if(!J.includes(t))throw new Error("Invalid canvas encoding "+t);var i=(t.split("/")[1]||"").replace(/jpeg/i,"jpg");return i&&(i=("."+i).toLowerCase()),{extension:i,type:t,dataURL:r.toDataURL(t,e.encodingQuality)}}function s(r){return new Promise(function(e){var t=r.indexOf(",");if(t===-1){e(new window.Blob);return}for(var i=r.slice(t+1),o=window.atob(i),a=r.slice(0,t),c=/data:([^;]+)/.exec(a),p=(c?c[1]:"")||void 0,h=new ArrayBuffer(o.length),y=new Uint8Array(h),w=0;w<o.length;w++)y[w]=o.charCodeAt(w);e(new window.Blob([h],{type:p}))})}function v(r,e){return e===void 0&&(e={}),s(r).then(function(t){return O(t,e)})}function O(r,e){return e===void 0&&(e={}),new Promise(function(t){e=q({},ee,e);var i=e.filename,o=I();if(o&&typeof o.saveBlob=="function"&&o.output)return o.saveBlob(r,q({},e,{filename:i})).then(function(a){return t(a)});B||(B=document.createElement("a"),B.style.visibility="hidden",B.target="_blank"),B.download=i,B.href=window.URL.createObjectURL(r),document.body.appendChild(B),B.onclick=function(){B.onclick=te,setTimeout(function(){window.URL.revokeObjectURL(r),B.parentElement&&B.parentElement.removeChild(B),B.removeAttribute("href"),t({filename:i,client:!1})})},B.click()})}function A(r,e){e===void 0&&(e={});var t=Array.isArray(r)?r:[r],i=new window.Blob(t,{type:e.type||""});return O(i,e)}function z(){var r="yyyy.mm.dd-HH.MM.ss";return m(new Date,r)}function K(r){if(r===void 0&&(r={}),r=q({},r),typeof r.file=="function")return r.file(r);if(r.file)return r.file;var e=null,t="";if(typeof r.extension=="string"&&(t=r.extension),typeof r.frame=="number"){var i;typeof r.totalFrames=="number"?i=r.totalFrames:i=Math.max(1e4,r.frame),e=V(String(r.frame),String(i).length,"0")}var o=isFinite(r.totalLayers)&&isFinite(r.layer)&&r.totalLayers>1?""+r.layer:"";if(e!=null)return[o,e].filter(Boolean).join("-")+t;var a=r.timeStamp;return[r.prefix,r.name||a,o,r.hash,r.suffix].filter(Boolean).join("-")+t}var se={dimension:"dimensions",animated:"animate",animating:"animate",unit:"units",P5:"p5",pixellated:"pixelated",looping:"loop",pixelPerInch:"pixels"},ce=["dimensions","units","pixelsPerInch","orientation","scaleToFit","scaleToView","bleed","pixelRatio","exportPixelRatio","maxPixelRatio","scaleContext","resizeCanvas","styleCanvas","canvas","context","attributes","parent","file","name","prefix","suffix","animate","playing","loop","duration","totalFrames","fps","playbackRate","timeScale","frame","time","flush","pixelated","hotkeys","p5","id","scaleToFitPadding","data","params","encoding","encodingQuality"],he=function(r){var e=Object.keys(r);e.forEach(function(t){if(t in se){var i=se[t];console.warn('[canvas-sketch] Could not recognize the setting "'+t+'", did you mean "'+i+'"?')}else ce.includes(t)||console.warn('[canvas-sketch] Could not recognize the setting "'+t+'"')})};function xe(r){r===void 0&&(r={});var e=function(o){if(r.enabled()){var a=I();o.keyCode===83&&!o.altKey&&(o.metaKey||o.ctrlKey)?(o.preventDefault(),r.save(o)):o.keyCode===32?r.togglePlay(o):a&&!o.altKey&&o.keyCode===75&&(o.metaKey||o.ctrlKey)&&(o.preventDefault(),r.commit(o))}},t=function(){window.addEventListener("keydown",e)},i=function(){window.removeEventListener("keydown",e)};return{attach:t,detach:i}}var le="mm",pe=[["postcard",101.6,152.4],["poster-small",280,430],["poster",460,610],["poster-large",610,910],["business-card",50.8,88.9],["2r",64,89],["3r",89,127],["4r",102,152],["5r",127,178],["6r",152,203],["8r",203,254],["10r",254,305],["11r",279,356],["12r",305,381],["a0",841,1189],["a1",594,841],["a2",420,594],["a3",297,420],["a4",210,297],["a5",148,210],["a6",105,148],["a7",74,105],["a8",52,74],["a9",37,52],["a10",26,37],["2a0",1189,1682],["4a0",1682,2378],["b0",1e3,1414],["b1",707,1e3],["b1+",720,1020],["b2",500,707],["b2+",520,720],["b3",353,500],["b4",250,353],["b5",176,250],["b6",125,176],["b7",88,125],["b8",62,88],["b9",44,62],["b10",31,44],["b11",22,32],["b12",16,22],["c0",917,1297],["c1",648,917],["c2",458,648],["c3",324,458],["c4",229,324],["c5",162,229],["c6",114,162],["c7",81,114],["c8",57,81],["c9",40,57],["c10",28,40],["c11",22,32],["c12",16,22],["half-letter",5.5,8.5,"in"],["letter",8.5,11,"in"],["legal",8.5,14,"in"],["junior-legal",5,8,"in"],["ledger",11,17,"in"],["tabloid",11,17,"in"],["ansi-a",8.5,11,"in"],["ansi-b",11,17,"in"],["ansi-c",17,22,"in"],["ansi-d",22,34,"in"],["ansi-e",34,44,"in"],["arch-a",9,12,"in"],["arch-b",12,18,"in"],["arch-c",18,24,"in"],["arch-d",24,36,"in"],["arch-e",36,48,"in"],["arch-e1",30,42,"in"],["arch-e2",26,38,"in"],["arch-e3",27,39,"in"]],ve=pe.reduce(function(r,e){var t={units:e[3]||le,dimensions:[e[1],e[2]]};return r[e[0]]=t,r[e[0].replace(/-/g," ")]=t,r},{}),ye=function(){for(var r=0;r<arguments.length;r++)if(arguments[r]!==void 0)return arguments[r]},de=["mm","cm","m","pc","pt","in","ft","px"],ge={m:{system:"metric",factor:1},cm:{system:"metric",factor:1/100},mm:{system:"metric",factor:1/1e3},pt:{system:"imperial",factor:1/72},pc:{system:"imperial",factor:1/6},in:{system:"imperial",factor:1},ft:{system:"imperial",factor:12}};const Oe={metric:{unit:"m",ratio:1/.0254},imperial:{unit:"in",ratio:.0254}};function we(r,e){return+(Math.round(r+"e"+e)+"e-"+e)}function Ie(r,e,t,i){if(typeof r!="number"||!isFinite(r))throw new Error("Value must be a finite number");if(!e||!t)throw new Error("Must specify from and to units");i=i||{};var o=ye(i.pixelsPerInch,96),a=i.precision,c=i.roundPixel!==!1;if(e=e.toLowerCase(),t=t.toLowerCase(),de.indexOf(e)===-1)throw new Error('Invalid from unit "'+e+'", must be one of: '+de.join(", "));if(de.indexOf(t)===-1)throw new Error('Invalid from unit "'+t+'", must be one of: '+de.join(", "));if(e===t)return r;var p=1,h=1,y=!1;e==="px"&&(h=1/o,e="in"),t==="px"&&(y=!0,p=o,t="in");var w=ge[e],x=ge[t],$=r*w.factor*h;w.system!==x.system&&($*=Oe[w.system].ratio);var G=$/x.factor*p;return y&&c?G=Math.round(G):typeof a=="number"&&isFinite(a)&&(G=we(G,a)),G}var me=Ie,Re=de;me.units=Re;function Qe(r,e,t){if(e===void 0&&(e="px"),t===void 0&&(t=72),typeof r=="string"){var i=r.toLowerCase();if(!(i in ve))throw new Error('The dimension preset "'+r+'" is not supported or could not be found; try using a4, a3, postcard, letter, etc.');var o=ve[i];return o.dimensions.map(function(a){return Pe(a,o.units,e,t)})}else return r}function Pe(r,e,t,i){return e===void 0&&(e="px"),t===void 0&&(t="px"),i===void 0&&(i=72),me(r,e,t,{pixelsPerInch:i,precision:4,roundPixel:!0})}function Ge(r){return r.dimensions?!!(typeof r.dimensions=="string"||Array.isArray(r.dimensions)&&r.dimensions.length>=2):!1}function Ye(r,e){if(!g())return[300,150];var t=e.parent||window;if(t===window||t===document||t===document.body)return[window.innerWidth,window.innerHeight];var i=t.getBoundingClientRect(),o=i.width,a=i.height;return[o,a]}function Ue(r,e){var t,i,o,a,c,p,h=g(),y=e.dimensions,w=Ge(e),x=r.exporting,$=w?e.scaleToFit!==!1:!1,G=!x&&w?e.scaleToView:!0;h||($=G=!1);var ne=e.units,oe=typeof e.pixelsPerInch=="number"&&isFinite(e.pixelsPerInch)?e.pixelsPerInch:72,fe=f(e.bleed,0),qe=h?window.devicePixelRatio:1,rr=G?qe:1,ue,je;typeof e.pixelRatio=="number"&&isFinite(e.pixelRatio)?(ue=e.pixelRatio,je=f(e.exportPixelRatio,ue)):w?(ue=rr,je=f(e.exportPixelRatio,1)):(ue=qe,je=f(e.exportPixelRatio,ue)),typeof e.maxPixelRatio=="number"&&isFinite(e.maxPixelRatio)&&(ue=Math.min(e.maxPixelRatio,ue)),x&&(ue=je);var Me=Ye(r,e),$e=Me[0],We=Me[1],Be,Ae;if(w){var Te=Qe(y,ne,oe),nr=Math.max(Te[0],Te[1]),Je=Math.min(Te[0],Te[1]);if(e.orientation){var Ne=e.orientation==="landscape";t=Ne?nr:Je,i=Ne?Je:nr}else t=Te[0],i=Te[1];Be=t,Ae=i,t+=fe*2,i+=fe*2}else t=$e,i=We,Be=t,Ae=i;var tr=t,ir=i;if(w&&ne&&(tr=Pe(t,ne,"px",oe),ir=Pe(i,ne,"px",oe)),o=Math.round(tr),a=Math.round(ir),$&&!x&&w){var cr=t/i,Un=$e/We,Vr=f(e.scaleToFitPadding,40),en=Math.round($e-Vr*2),rn=Math.round(We-Vr*2);(o>en||a>rn)&&(Un>cr?(a=rn,o=Math.round(a*cr)):(o=en,a=Math.round(o/cr)))}c=Math.round(G?ue*o:ue*tr),p=Math.round(G?ue*a:ue*ir);var Kn=Math.round(G?o:tr),Zn=Math.round(G?a:ir),Xn=c/t,Jn=p/i;return{bleed:fe,pixelRatio:ue,width:t,height:i,dimensions:[t,i],units:ne||"px",scaleX:Xn,scaleY:Jn,pixelsPerInch:oe,viewportWidth:Kn,viewportHeight:Zn,canvasWidth:c,canvasHeight:p,trimWidth:Be,trimHeight:Ae,styleWidth:o,styleHeight:a}}var Ke=Ze;function Ze(r,e){if(typeof r!="string")throw new TypeError("must specify type string");if(e=e||{},typeof document>"u"&&!e.canvas)return null;var t=e.canvas||document.createElement("canvas");typeof e.width=="number"&&(t.width=e.width),typeof e.height=="number"&&(t.height=e.height);var i=e,o;try{var a=[r];r.indexOf("webgl")===0&&a.push("experimental-"+r);for(var c=0;c<a.length;c++)if(o=t.getContext(a[c],i),o)return o}catch{o=null}return o||null}function Xe(){if(!g())throw new Error("It appears you are runing from Node.js or a non-browser environment. Try passing in an existing { canvas } interface instead.");return document.createElement("canvas")}function ze(r){r===void 0&&(r={});var e,t,i=!1;if(r.canvas!==!1){if(e=r.context,!e||typeof e=="string"){var o=r.canvas;o||(o=Xe(),i=!0);var a=e||"2d";if(typeof o.getContext!="function")throw new Error("The specified { canvas } element does not have a getContext() function, maybe it is not a <canvas> tag?");if(e=Ke(a,q({},r.attributes,{canvas:o})),!e)throw new Error("Failed at canvas.getContext('"+a+"') - the browser may not support this context, or a different context may already be in use with this canvas.")}if(t=e.canvas,r.canvas&&t!==r.canvas)throw new Error("The { canvas } and { context } settings must point to the same underlying canvas element");r.pixelated&&(e.imageSmoothingEnabled=!1,e.mozImageSmoothingEnabled=!1,e.oImageSmoothingEnabled=!1,e.webkitImageSmoothingEnabled=!1,e.msImageSmoothingEnabled=!1,t.style["image-rendering"]="pixelated")}return{canvas:t,context:e,ownsCanvas:i}}var N=function(){var e=this;this._settings={},this._props={},this._sketch=void 0,this._raf=null,this._recordTimeout=null,this._lastRedrawResult=void 0,this._isP5Resizing=!1,this._keyboardShortcuts=xe({enabled:function(){return e.settings.hotkeys!==!1},save:function(t){t.shiftKey?e.props.recording?(e.endRecord(),e.run()):e.record():e.props.recording||e.exportFrame()},togglePlay:function(){e.props.playing?e.pause():e.play()},commit:function(t){e.exportFrame({commit:!0})}}),this._animateHandler=function(){return e.animate()},this._resizeHandler=function(){var t=e.resize();t&&e.render()}},_e={sketch:{configurable:!0},settings:{configurable:!0},props:{configurable:!0}};_e.sketch.get=function(){return this._sketch},_e.settings.get=function(){return this._settings},_e.props.get=function(){return this._props},N.prototype._computePlayhead=function(e,t){var i=typeof t=="number"&&isFinite(t);return i?e/t:0},N.prototype._computeFrame=function(e,t,i,o){return isFinite(i)&&i>1?Math.floor(e*(i-1)):Math.floor(o*t)},N.prototype._computeCurrentFrame=function(){return this._computeFrame(this.props.playhead,this.props.time,this.props.totalFrames,this.props.fps)},N.prototype._getSizeProps=function(){var e=this.props;return{width:e.width,height:e.height,pixelRatio:e.pixelRatio,canvasWidth:e.canvasWidth,canvasHeight:e.canvasHeight,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight}},N.prototype.run=function(){if(!this.sketch)throw new Error("should wait until sketch is loaded before trying to play()");return this.settings.playing!==!1&&this.play(),typeof this.sketch.dispose=="function"&&console.warn("In canvas-sketch@0.0.23 the dispose() event has been renamed to unload()"),this.props.started||(this._signalBegin(),this.props.started=!0),this.tick(),this.render(),this},N.prototype._cancelTimeouts=function(){this._raf!=null&&typeof window<"u"&&typeof window.cancelAnimationFrame=="function"&&(window.cancelAnimationFrame(this._raf),this._raf=null),this._recordTimeout!=null&&(clearTimeout(this._recordTimeout),this._recordTimeout=null)},N.prototype.play=function(){var e=this.settings.animate;if("animation"in this.settings&&(e=!0,console.warn("[canvas-sketch] { animation } has been renamed to { animate }")),!!e){if(!g()){console.error("[canvas-sketch] WARN: Using { animate } in Node.js is not yet supported");return}this.props.playing||(this.props.started||(this._signalBegin(),this.props.started=!0),this.props.playing=!0,this._cancelTimeouts(),this._lastTime=ae(),this._raf=window.requestAnimationFrame(this._animateHandler))}},N.prototype.pause=function(){this.props.recording&&this.endRecord(),this.props.playing=!1,this._cancelTimeouts()},N.prototype.togglePlay=function(){this.props.playing?this.pause():this.play()},N.prototype.stop=function(){this.pause(),this.props.frame=0,this.props.playhead=0,this.props.time=0,this.props.deltaTime=0,this.props.started=!1,this.render()},N.prototype.record=function(){var e=this;if(!this.props.recording){if(!g()){console.error("[canvas-sketch] WARN: Recording from Node.js is not yet supported");return}this.stop(),this.props.playing=!0,this.props.recording=!0;var t=this._createExportOptions({sequence:!0}),i=1/this.props.fps;this._cancelTimeouts();var o=function(){return e.props.recording?(e.props.deltaTime=i,e.tick(),e.exportFrame(t).then(function(){e.props.recording&&(e.props.deltaTime=0,e.props.frame++,e.props.frame<e.props.totalFrames?(e.props.time+=i,e.props.playhead=e._computePlayhead(e.props.time,e.props.duration),e._recordTimeout=setTimeout(o,0)):(console.log("Finished recording"),e._signalEnd(),e.endRecord(),e.stop(),e.run()))})):Promise.resolve()};this.props.started||(this._signalBegin(),this.props.started=!0),this.sketch&&typeof this.sketch.beginRecord=="function"&&this._wrapContextScale(function(a){return e.sketch.beginRecord(a)}),X(t).catch(function(a){console.error(a)}).then(function(a){e._raf=window.requestAnimationFrame(o)})}},N.prototype._signalBegin=function(){var e=this;this.sketch&&typeof this.sketch.begin=="function"&&this._wrapContextScale(function(t){return e.sketch.begin(t)})},N.prototype._signalEnd=function(){var e=this;this.sketch&&typeof this.sketch.end=="function"&&this._wrapContextScale(function(t){return e.sketch.end(t)})},N.prototype.endRecord=function(){var e=this,t=this.props.recording;return this._cancelTimeouts(),this.props.recording=!1,this.props.deltaTime=0,this.props.playing=!1,U().catch(function(i){console.error(i)}).then(function(){t&&e.sketch&&typeof e.sketch.endRecord=="function"&&e._wrapContextScale(function(i){return e.sketch.endRecord(i)})})},N.prototype._createExportOptions=function(e){return e===void 0&&(e={}),{sequence:e.sequence,save:e.save,fps:this.props.fps,frame:e.sequence?this.props.frame:void 0,file:this.settings.file,name:this.settings.name,prefix:this.settings.prefix,suffix:this.settings.suffix,encoding:this.settings.encoding,encodingQuality:this.settings.encodingQuality,timeStamp:e.timeStamp||z(),totalFrames:isFinite(this.props.totalFrames)?Math.max(0,this.props.totalFrames):1e3}},N.prototype.exportFrame=function(e){var t=this;if(e===void 0&&(e={}),!this.sketch)return Promise.all([]);typeof this.sketch.preExport=="function"&&this.sketch.preExport();var i=this._createExportOptions(e),o=I(),a=Promise.resolve();if(o&&e.commit&&typeof o.commit=="function"){var c=q({},i),p=o.commit(c);re(p)?a=p:a=Promise.resolve(p)}return a.then(function(h){return t._doExportFrame(q({},i,{hash:h||""}))}).then(function(h){return h.length===1?h[0]:h})},N.prototype._doExportFrame=function(e){var t=this;e===void 0&&(e={}),this._props.exporting=!0,this.resize();var i=this.render(),o=this.props.canvas;return typeof i>"u"&&(i=[o]),i=[].concat(i).filter(Boolean),i=i.map(function(a){var c=typeof a=="object"&&a&&("data"in a||"dataURL"in a),p=c?a.data:a,h=c?q({},a,{data:p}):{data:p};if(T(p)){var y=h.encoding||e.encoding,w=f(h.encodingQuality,e.encodingQuality,.95),x=ie(p,{encoding:y,encodingQuality:w}),$=x.dataURL,G=x.extension,ne=x.type;return Object.assign(h,{dataURL:$,extension:G,type:ne})}else return h}),this._props.exporting=!1,this.resize(),this.render(),Promise.all(i.map(function(a,c,p){var h=q({extension:"",prefix:"",suffix:""},e,a,{layer:c,totalLayers:p.length}),y=e.save===!1?!1:a.save;h.save=y!==!1,h.filename=K(h),delete h.encoding,delete h.encodingQuality;for(var w in h)typeof h[w]>"u"&&delete h[w];var x=Promise.resolve({});if(h.save){var $=h.data;if(h.dataURL){var G=h.dataURL;x=v(G,h)}else x=A($,h)}return x.then(function(ne){return Object.assign({},h,ne)})})).then(function(a){var c=a.filter(function(oe){return oe.save});if(c.length>0){var p=c.find(function(oe){return oe.outputName}),h=c.some(function(oe){return oe.client}),y=c.some(function(oe){return oe.stream}),w;c.length>1?w=c.length:p?w=p.outputName+"/"+c[0].filename:w=""+c[0].filename;var x="";if(e.sequence){var $=isFinite(t.props.totalFrames);x=$?" (frame "+(e.frame+1)+" / "+t.props.totalFrames+")":" (frame "+e.frame+")"}else c.length>1&&(x=" files");var G=h?"canvas-sketch-cli":"canvas-sketch",ne=y?"Streaming into":"Exported";console.log("%c["+G+"]%c "+ne+" %c"+w+"%c"+x,"color: #8e8e8e;","color: initial;","font-weight: bold;","font-weight: initial;")}return typeof t.sketch.postExport=="function"&&t.sketch.postExport(),a})},N.prototype._wrapContextScale=function(e){this._preRender(),e(this.props),this._postRender()},N.prototype._preRender=function(){var e=this.props;D(e.context)&&!e.p5?(e.context.save(),this.settings.scaleContext!==!1&&e.context.scale(e.scaleX,e.scaleY)):e.p5&&e.p5.scale(e.scaleX/e.pixelRatio,e.scaleY/e.pixelRatio)},N.prototype._postRender=function(){var e=this.props;D(e.context)&&!e.p5&&e.context.restore(),e.gl&&this.settings.flush!==!1&&!e.p5&&e.gl.flush()},N.prototype.tick=function(){this.sketch&&typeof this.sketch.tick=="function"&&(this._preRender(),this.sketch.tick(this.props),this._postRender())},N.prototype.render=function(){return this.props.p5?(this._lastRedrawResult=void 0,this.props.p5.redraw(),this._lastRedrawResult):this.submitDrawCall()},N.prototype.submitDrawCall=function(){if(this.sketch){var e=this.props;this._preRender();var t;return typeof this.sketch=="function"?t=this.sketch(e):typeof this.sketch.render=="function"&&(t=this.sketch.render(e)),this._postRender(),t}},N.prototype.update=function(e){var t=this;e===void 0&&(e={});var i=["animate"];Object.keys(e).forEach(function(G){if(i.indexOf(G)>=0)throw new Error("Sorry, the { "+G+" } option is not yet supported with update().")});var o=this._settings.canvas,a=this._settings.context;for(var c in e){var p=e[c];typeof p<"u"&&(t._settings[c]=p)}var h=Object.assign({},this._settings,e);if("time"in e&&"frame"in e)throw new Error("You should specify { time } or { frame } but not both");if("time"in e?delete h.frame:"frame"in e&&delete h.time,"duration"in e&&"totalFrames"in e)throw new Error("You should specify { duration } or { totalFrames } but not both");"duration"in e?delete h.totalFrames:"totalFrames"in e&&delete h.duration,"data"in e&&(this._props.data=e.data);var y=this.getTimeProps(h);if(Object.assign(this._props,y),o!==this._settings.canvas||a!==this._settings.context){var w=ze(this._settings),x=w.canvas,$=w.context;this.props.canvas=x,this.props.context=$,this._setupGLKey(),this._appendCanvasIfNeeded()}return e.p5&&typeof e.p5!="function"&&(this.props.p5=e.p5,this.props.p5.draw=function(){t._isP5Resizing||(t._lastRedrawResult=t.submitDrawCall())}),"playing"in e&&(e.playing?this.play():this.pause()),he(this._settings),this.resize(),this.render(),this.props},N.prototype.resize=function(){var e=this._getSizeProps(),t=this.settings,i=this.props,o=Ue(i,t);Object.assign(this._props,o);var a=this.props,c=a.pixelRatio,p=a.canvasWidth,h=a.canvasHeight,y=a.styleWidth,w=a.styleHeight,x=this.props.canvas;x&&t.resizeCanvas!==!1&&(i.p5?(x.width!==p||x.height!==h)&&(this._isP5Resizing=!0,i.p5.pixelDensity(c),i.p5.resizeCanvas(p/c,h/c,!1),this._isP5Resizing=!1):(x.width!==p&&(x.width=p),x.height!==h&&(x.height=h)),g()&&t.styleCanvas!==!1&&(x.style.width=y+"px",x.style.height=w+"px"));var $=this._getSizeProps(),G=!d(e,$);return G&&this._sizeChanged(),G},N.prototype._sizeChanged=function(){this.sketch&&typeof this.sketch.resize=="function"&&this.sketch.resize(this.props)},N.prototype.animate=function(){if(this.props.playing){if(!g()){console.error("[canvas-sketch] WARN: Animation in Node.js is not yet supported");return}this._raf=window.requestAnimationFrame(this._animateHandler);var e=ae(),t=this.props.fps,i=1e3/t,o=e-this._lastTime,a=this.props.duration,c=typeof a=="number"&&isFinite(a),p=!0,h=this.settings.playbackRate;h==="fixed"?o=i:h==="throttle"?o>i?(e=e-o%i,this._lastTime=e):p=!1:this._lastTime=e;var y=o/1e3,w=this.props.time+y*this.props.timeScale;w<0&&c&&(w=a+w);var x=!1,$=!1,G=this.settings.loop!==!1;if(c&&w>=a&&(G?(p=!0,w=w%a,$=!0):(p=!1,w=a,x=!0),this._signalEnd()),p){this.props.deltaTime=y,this.props.time=w,this.props.playhead=this._computePlayhead(w,a);var ne=this.props.frame;this.props.frame=this._computeCurrentFrame(),$&&this._signalBegin(),ne!==this.props.frame&&this.tick(),this.render(),this.props.deltaTime=0}x&&this.pause()}},N.prototype.dispatch=function(e){if(typeof e!="function")throw new Error("must pass function into dispatch()");e(this.props),this.render()},N.prototype.mount=function(){this._appendCanvasIfNeeded()},N.prototype.unmount=function(){g()&&(window.removeEventListener("resize",this._resizeHandler),this._keyboardShortcuts.detach()),this.props.canvas.parentElement&&this.props.canvas.parentElement.removeChild(this.props.canvas)},N.prototype._appendCanvasIfNeeded=function(){if(g()&&this.settings.parent!==!1&&this.props.canvas&&!this.props.canvas.parentElement){var e=this.settings.parent||document.body;e.appendChild(this.props.canvas)}},N.prototype._setupGLKey=function(){this.props.context&&(C(this.props.context)?this._props.gl=this.props.context:delete this._props.gl)},N.prototype.getTimeProps=function(e){e===void 0&&(e={});var t=e.duration,i=e.totalFrames,o=f(e.timeScale,1),a=f(e.fps,24),c=typeof t=="number"&&isFinite(t),p=typeof i=="number"&&isFinite(i),h=c?Math.floor(a*t):void 0,y=p?i/a:void 0;if(c&&p&&h!==i)throw new Error("You should specify either duration or totalFrames, but not both. Or, they must match exactly.");typeof e.dimensions>"u"&&typeof e.units<"u"&&console.warn("You've specified a { units } setting but no { dimension }, so the units will be ignored."),i=f(i,h,1/0),t=f(t,y,1/0);var w=e.time,x=e.frame,$=typeof w=="number"&&isFinite(w),G=typeof x=="number"&&isFinite(x),ne=0,oe=0,fe=0;if($&&G)throw new Error("You should specify either start frame or time, but not both.");return $?(ne=w,fe=this._computePlayhead(ne,t),oe=this._computeFrame(fe,ne,i,a)):G&&(oe=x,ne=oe/a,fe=this._computePlayhead(ne,t)),{playhead:fe,time:ne,frame:oe,duration:t,totalFrames:i,fps:a,timeScale:o}},N.prototype.setup=function(e){var t=this;if(e===void 0&&(e={}),this.sketch)throw new Error("Multiple setup() calls not yet supported.");this._settings=Object.assign({},e,this._settings),he(this._settings);var i=ze(this._settings),o=i.context,a=i.canvas,c=this.getTimeProps(this._settings);this._props=Object.assign({},c,{canvas:a,context:o,deltaTime:0,started:!1,exporting:!1,playing:!1,recording:!1,settings:this.settings,data:this.settings.data,render:function(){return t.render()},togglePlay:function(){return t.togglePlay()},dispatch:function(p){return t.dispatch(p)},tick:function(){return t.tick()},resize:function(){return t.resize()},update:function(p){return t.update(p)},exportFrame:function(p){return t.exportFrame(p)},record:function(){return t.record()},play:function(){return t.play()},pause:function(){return t.pause()},stop:function(){return t.stop()}}),this._setupGLKey(),this.resize()},N.prototype.loadAndRun=function(e,t){var i=this;return this.load(e,t).then(function(){return i.run(),i})},N.prototype.unload=function(){var e=this;this.pause(),this.sketch&&(typeof this.sketch.unload=="function"&&this._wrapContextScale(function(t){return e.sketch.unload(t)}),this._sketch=null)},N.prototype.destroy=function(){this.unload(),this.unmount()},N.prototype.load=function(e,t){var i=this;if(typeof e!="function")throw new Error(`The function must take in a function as the first parameter. Example:
  canvasSketcher(() => { ... }, settings)`);this.sketch&&this.unload(),typeof t<"u"&&this.update(t),this._preRender();var o=Promise.resolve();if(this.settings.p5){if(!g())throw new Error("[canvas-sketch] ERROR: Using p5.js in Node.js is not supported");o=new Promise(function(a){var c=i.settings.p5,p;c.p5&&(p=c.preload,c=c.p5);var h=function(y){p&&(y.preload=function(){return p(y)}),y.setup=function(){var w=i.props,x=i.settings.context==="webgl",$=x?y.WEBGL:y.P2D;y.noLoop(),y.pixelDensity(w.pixelRatio),y.createCanvas(w.viewportWidth,w.viewportHeight,$),x&&i.settings.attributes&&y.setAttributes(i.settings.attributes),i.update({p5:y,canvas:y.canvas,context:y._renderer.drawingContext}),a()}};if(typeof c=="function")new c(h);else{if(typeof window.createCanvas!="function")throw new Error(`{ p5 } setting is passed but can't find p5.js in global (window) scope. Maybe you did not create it globally?
new p5(); // <-- attaches to global scope`);h(window)}})}return o.then(function(){var a=e(i.props);return re(a)||(a=Promise.resolve(a)),a}).then(function(a){return a||(a={}),i._sketch=a,g()&&(i._keyboardShortcuts.attach(),window.addEventListener("resize",i._resizeHandler)),i._postRender(),i._sizeChanged(),i}).catch(function(a){throw console.warn(`Could not start sketch, the async loading function rejected with an error:
    Error: `+a.message),a})},Object.defineProperties(N.prototype,_e);var be="hot-id-cache",ke=[];function Ce(){var r=I();return r&&r.hot}function Fe(r){var e=I();if(e)return e[be]=e[be]||{},e[be][r]}function He(r,e){var t=I();t&&(t[be]=t[be]||{},t[be][r]=e)}function De(r,e){return e.animate?{time:r.props.time}:void 0}function Ee(r,e){if(e===void 0&&(e={}),e.p5){if(e.canvas||e.context&&typeof e.context!="string")throw new Error(`In { p5 } mode, you can't pass your own canvas or context, unless the context is a "webgl" or "2d" string`);var t=typeof e.context=="string"?e.context:!1;e=Object.assign({},e,{canvas:!1,context:t})}var i=Ce(),o;i&&(o=f(e.id,"$__DEFAULT_CANVAS_SKETCH_ID__$"));var a=i&&typeof o=="string";a&&ke.includes(o)&&(console.warn("Warning: You have multiple calls to canvasSketch() in --hot mode. You must pass unique { id } strings in settings to enable hot reload across multiple sketches. ",o),a=!1);var c=Promise.resolve();if(a){ke.push(o);var p=Fe(o);if(p){var h=function(){var y=De(p.manager,e);return p.manager.destroy(),y};c=p.load.then(h).catch(h)}}return c.then(function(y){var w=new N,x;return r?(e=Object.assign({},e,y),w.setup(e),w.mount(),x=w.loadAndRun(r)):x=Promise.resolve(w),a&&He(o,{load:x,manager:w}),x})}return Ee.canvasSketch=Ee,Ee.PaperSizes=ve,Ee})}(sr)),sr.exports}var rt=et();const nt=er(rt);var ur={exports:{}};ur.exports;var tn;function tt(){return tn||(tn=1,function(u){var n=256,l=6,E=52,F=[],P=typeof fr>"u"?window:fr,L=Math.pow(n,l),q=Math.pow(2,E),Y=q*2,H=n-1,ae=Math.random;u.exports=function(f,g){if(g&&g.global===!0)return g.global=!1,Math.random=u.exports(f,g),g.global=!0,Math.random;var C=g&&g.entropy||!1,D=[];R(b(C?[f,I(F)]:0 in arguments?f:S(),3),D);var T=new re(D);return R(I(T.S),F),function(){for(var W=T.g(l),Q=L,d=0;W<q;)W=(W+d)*n,Q*=n,d=T.g(1);for(;W>=Y;)W/=2,Q/=2,d>>>=1;return(W+d)/Q}},u.exports.resetGlobal=function(){Math.random=ae};function re(f){var g,C=f.length,D=this,T=0,W=D.i=D.j=0,Q=D.S=[];for(C||(f=[C++]);T<n;)Q[T]=T++;for(T=0;T<n;T++)Q[T]=Q[W=H&W+f[T%C]+(g=Q[T])],Q[W]=g;(D.g=function(d){for(var m,M=0,_=D.i,k=D.j,j=D.S;d--;)m=j[_=H&_+1],M=M*n+j[H&(j[_]=j[k=H&k+m])+(j[k]=m)];return D.i=_,D.j=k,M})(n)}function b(f,g){var C=[],D=(typeof f)[0],T;if(g&&D=="o")for(T in f)try{C.push(b(f[T],g-1))}catch{}return C.length?C:D=="s"?f:f+"\0"}function R(f,g){for(var C=f+"",D,T=0;T<C.length;)g[H&T]=H&(D^=g[H&T]*19)+C.charCodeAt(T++);return I(g)}function S(f){try{return P.crypto.getRandomValues(f=new Uint8Array(n)),I(f)}catch{return[+new Date,P,P.navigator&&P.navigator.plugins,P.screen,I(F)]}}function I(f){return String.fromCharCode.apply(0,f)}R(Math.random(),F)}(ur)),ur.exports}var ar={exports:{}},an;function it(){return an||(an=1,function(u,n){(function(){var l=.5*(Math.sqrt(3)-1),E=(3-Math.sqrt(3))/6,F=1/3,P=1/6,L=(Math.sqrt(5)-1)/4,q=(5-Math.sqrt(5))/20;function Y(b){var R;typeof b=="function"?R=b:b?R=ae(b):R=Math.random,this.p=H(R),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var S=0;S<512;S++)this.perm[S]=this.p[S&255],this.permMod12[S]=this.perm[S]%12}Y.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(b,R){var S=this.permMod12,I=this.perm,f=this.grad3,g=0,C=0,D=0,T=(b+R)*l,W=Math.floor(b+T),Q=Math.floor(R+T),d=(W+Q)*E,m=W-d,M=Q-d,_=b-m,k=R-M,j,V;_>k?(j=1,V=0):(j=0,V=1);var te=_-j+E,B=k-V+E,ee=_-1+2*E,J=k-1+2*E,Z=W&255,X=Q&255,U=.5-_*_-k*k;if(U>=0){var ie=S[Z+I[X]]*3;U*=U,g=U*U*(f[ie]*_+f[ie+1]*k)}var s=.5-te*te-B*B;if(s>=0){var v=S[Z+j+I[X+V]]*3;s*=s,C=s*s*(f[v]*te+f[v+1]*B)}var O=.5-ee*ee-J*J;if(O>=0){var A=S[Z+1+I[X+1]]*3;O*=O,D=O*O*(f[A]*ee+f[A+1]*J)}return 70*(g+C+D)},noise3D:function(b,R,S){var I=this.permMod12,f=this.perm,g=this.grad3,C,D,T,W,Q=(b+R+S)*F,d=Math.floor(b+Q),m=Math.floor(R+Q),M=Math.floor(S+Q),_=(d+m+M)*P,k=d-_,j=m-_,V=M-_,te=b-k,B=R-j,ee=S-V,J,Z,X,U,ie,s;te>=B?B>=ee?(J=1,Z=0,X=0,U=1,ie=1,s=0):te>=ee?(J=1,Z=0,X=0,U=1,ie=0,s=1):(J=0,Z=0,X=1,U=1,ie=0,s=1):B<ee?(J=0,Z=0,X=1,U=0,ie=1,s=1):te<ee?(J=0,Z=1,X=0,U=0,ie=1,s=1):(J=0,Z=1,X=0,U=1,ie=1,s=0);var v=te-J+P,O=B-Z+P,A=ee-X+P,z=te-U+2*P,K=B-ie+2*P,se=ee-s+2*P,ce=te-1+3*P,he=B-1+3*P,xe=ee-1+3*P,le=d&255,pe=m&255,ve=M&255,ye=.6-te*te-B*B-ee*ee;if(ye<0)C=0;else{var de=I[le+f[pe+f[ve]]]*3;ye*=ye,C=ye*ye*(g[de]*te+g[de+1]*B+g[de+2]*ee)}var ge=.6-v*v-O*O-A*A;if(ge<0)D=0;else{var Oe=I[le+J+f[pe+Z+f[ve+X]]]*3;ge*=ge,D=ge*ge*(g[Oe]*v+g[Oe+1]*O+g[Oe+2]*A)}var we=.6-z*z-K*K-se*se;if(we<0)T=0;else{var Ie=I[le+U+f[pe+ie+f[ve+s]]]*3;we*=we,T=we*we*(g[Ie]*z+g[Ie+1]*K+g[Ie+2]*se)}var me=.6-ce*ce-he*he-xe*xe;if(me<0)W=0;else{var Re=I[le+1+f[pe+1+f[ve+1]]]*3;me*=me,W=me*me*(g[Re]*ce+g[Re+1]*he+g[Re+2]*xe)}return 32*(C+D+T+W)},noise4D:function(b,R,S,I){var f=this.perm,g=this.grad4,C,D,T,W,Q,d=(b+R+S+I)*L,m=Math.floor(b+d),M=Math.floor(R+d),_=Math.floor(S+d),k=Math.floor(I+d),j=(m+M+_+k)*q,V=m-j,te=M-j,B=_-j,ee=k-j,J=b-V,Z=R-te,X=S-B,U=I-ee,ie=0,s=0,v=0,O=0;J>Z?ie++:s++,J>X?ie++:v++,J>U?ie++:O++,Z>X?s++:v++,Z>U?s++:O++,X>U?v++:O++;var A,z,K,se,ce,he,xe,le,pe,ve,ye,de;A=ie>=3?1:0,z=s>=3?1:0,K=v>=3?1:0,se=O>=3?1:0,ce=ie>=2?1:0,he=s>=2?1:0,xe=v>=2?1:0,le=O>=2?1:0,pe=ie>=1?1:0,ve=s>=1?1:0,ye=v>=1?1:0,de=O>=1?1:0;var ge=J-A+q,Oe=Z-z+q,we=X-K+q,Ie=U-se+q,me=J-ce+2*q,Re=Z-he+2*q,Qe=X-xe+2*q,Pe=U-le+2*q,Ge=J-pe+3*q,Ye=Z-ve+3*q,Ue=X-ye+3*q,Ke=U-de+3*q,Ze=J-1+4*q,Xe=Z-1+4*q,ze=X-1+4*q,N=U-1+4*q,_e=m&255,be=M&255,ke=_&255,Ce=k&255,Fe=.6-J*J-Z*Z-X*X-U*U;if(Fe<0)C=0;else{var He=f[_e+f[be+f[ke+f[Ce]]]]%32*4;Fe*=Fe,C=Fe*Fe*(g[He]*J+g[He+1]*Z+g[He+2]*X+g[He+3]*U)}var De=.6-ge*ge-Oe*Oe-we*we-Ie*Ie;if(De<0)D=0;else{var Ee=f[_e+A+f[be+z+f[ke+K+f[Ce+se]]]]%32*4;De*=De,D=De*De*(g[Ee]*ge+g[Ee+1]*Oe+g[Ee+2]*we+g[Ee+3]*Ie)}var r=.6-me*me-Re*Re-Qe*Qe-Pe*Pe;if(r<0)T=0;else{var e=f[_e+ce+f[be+he+f[ke+xe+f[Ce+le]]]]%32*4;r*=r,T=r*r*(g[e]*me+g[e+1]*Re+g[e+2]*Qe+g[e+3]*Pe)}var t=.6-Ge*Ge-Ye*Ye-Ue*Ue-Ke*Ke;if(t<0)W=0;else{var i=f[_e+pe+f[be+ve+f[ke+ye+f[Ce+de]]]]%32*4;t*=t,W=t*t*(g[i]*Ge+g[i+1]*Ye+g[i+2]*Ue+g[i+3]*Ke)}var o=.6-Ze*Ze-Xe*Xe-ze*ze-N*N;if(o<0)Q=0;else{var a=f[_e+1+f[be+1+f[ke+1+f[Ce+1]]]]%32*4;o*=o,Q=o*o*(g[a]*Ze+g[a+1]*Xe+g[a+2]*ze+g[a+3]*N)}return 27*(C+D+T+W+Q)}};function H(b){var R,S=new Uint8Array(256);for(R=0;R<256;R++)S[R]=R;for(R=0;R<255;R++){var I=R+~~(b()*(256-R)),f=S[R];S[R]=S[I],S[I]=f}return S}Y._buildPermutationTable=H;function ae(){var b=0,R=0,S=0,I=1,f=re();b=f(" "),R=f(" "),S=f(" ");for(var g=0;g<arguments.length;g++)b-=f(arguments[g]),b<0&&(b+=1),R-=f(arguments[g]),R<0&&(R+=1),S-=f(arguments[g]),S<0&&(S+=1);return f=null,function(){var C=2091639*b+I*23283064365386963e-26;return b=R,R=S,S=C-(I=C|0)}}function re(){var b=4022871197;return function(R){R=R.toString();for(var S=0;S<R.length;S++){b+=R.charCodeAt(S);var I=.02519603282416938*b;b=I>>>0,I-=b,I*=b,b=I>>>0,I-=b,b+=I*4294967296}return(b>>>0)*23283064365386963e-26}}n.SimplexNoise=Y,u.exports=Y})()}(ar,ar.exports)),ar.exports}var dr,on;function Qn(){return on||(on=1,dr=function(){for(var n=0;n<arguments.length;n++)if(typeof arguments[n]<"u")return arguments[n]}),dr}var hr,sn;function at(){if(sn)return hr;sn=1;var u=tt(),n=it(),l=Qn();function E(F){F=l(F,null);var P=Math.random,L,q,Y,H=null,ae=!1;return re(F),{value:b,createRandom:function(s){return E(s)},setSeed:re,getSeed:S,getRandomSeed:I,valueNonZero:R,permuteNoise:g,noise1D:C,noise2D:D,noise3D:T,noise4D:W,sign:Q,boolean:d,chance:m,range:M,rangeFloor:_,pick:k,shuffle:j,onCircle:V,insideCircle:te,onSphere:B,insideSphere:ee,quaternion:J,weighted:U,weightedSet:Z,weightedSetIndex:X,gaussian:ie};function re(s,v){typeof s=="number"||typeof s=="string"?(L=s,q=u(L,v)):(L=void 0,q=P),Y=f(),H=null,ae=!1}function b(){return q()}function R(){for(var s=0;s===0;)s=b();return s}function S(){return L}function I(){var s=String(Math.floor(Math.random()*1e6));return s}function f(){return new n(q)}function g(){Y=f()}function C(s,v,O){if(!isFinite(s))throw new TypeError("x component for noise() must be finite");return v=l(v,1),O=l(O,1),O*Y.noise2D(s*v,0)}function D(s,v,O,A){if(!isFinite(s))throw new TypeError("x component for noise() must be finite");if(!isFinite(v))throw new TypeError("y component for noise() must be finite");return O=l(O,1),A=l(A,1),A*Y.noise2D(s*O,v*O)}function T(s,v,O,A,z){if(!isFinite(s))throw new TypeError("x component for noise() must be finite");if(!isFinite(v))throw new TypeError("y component for noise() must be finite");if(!isFinite(O))throw new TypeError("z component for noise() must be finite");return A=l(A,1),z=l(z,1),z*Y.noise3D(s*A,v*A,O*A)}function W(s,v,O,A,z,K){if(!isFinite(s))throw new TypeError("x component for noise() must be finite");if(!isFinite(v))throw new TypeError("y component for noise() must be finite");if(!isFinite(O))throw new TypeError("z component for noise() must be finite");if(!isFinite(A))throw new TypeError("w component for noise() must be finite");return z=l(z,1),K=l(K,1),K*Y.noise4D(s*z,v*z,O*z,A*z)}function Q(){return d()?1:-1}function d(){return b()>.5}function m(s){if(s=l(s,.5),typeof s!="number")throw new TypeError("expected n to be a number");return b()<s}function M(s,v){if(v===void 0&&(v=s,s=0),typeof s!="number"||typeof v!="number")throw new TypeError("Expected all arguments to be numbers");return b()*(v-s)+s}function _(s,v){if(v===void 0&&(v=s,s=0),typeof s!="number"||typeof v!="number")throw new TypeError("Expected all arguments to be numbers");return Math.floor(M(s,v))}function k(s){if(s.length!==0)return s[_(0,s.length)]}function j(s){if(!Array.isArray(s))throw new TypeError("Expected Array, got "+typeof s);for(var v,O,A=s.length,z=s.slice();A;)v=Math.floor(b()*A--),O=z[A],z[A]=z[v],z[v]=O;return z}function V(s,v){s=l(s,1),v=v||[];var O=b()*2*Math.PI;return v[0]=s*Math.cos(O),v[1]=s*Math.sin(O),v}function te(s,v){s=l(s,1),v=v||[],V(1,v);var O=s*Math.sqrt(b());return v[0]*=O,v[1]*=O,v}function B(s,v){s=l(s,1),v=v||[];var O=b()*Math.PI*2,A=b()*2-1,z=O,K=Math.acos(A);return v[0]=s*Math.sin(K)*Math.cos(z),v[1]=s*Math.sin(K)*Math.sin(z),v[2]=s*Math.cos(K),v}function ee(s,v){s=l(s,1),v=v||[];var O=b()*Math.PI*2,A=b()*2-1,z=b(),K=O,se=Math.acos(A),ce=s*Math.cbrt(z);return v[0]=ce*Math.sin(se)*Math.cos(K),v[1]=ce*Math.sin(se)*Math.sin(K),v[2]=ce*Math.cos(se),v}function J(s){s=s||[];var v=b(),O=b(),A=b(),z=Math.sqrt(1-v),K=Math.sqrt(v),se=Math.PI*2*O,ce=Math.PI*2*A,he=Math.sin(se)*z,xe=Math.cos(se)*z,le=Math.sin(ce)*K,pe=Math.cos(ce)*K;return s[0]=he,s[1]=xe,s[2]=le,s[3]=pe,s}function Z(s){return s=s||[],s.length===0?null:s[X(s)].value}function X(s){return s=s||[],s.length===0?-1:U(s.map(function(v){return v.weight}))}function U(s){if(s=s||[],s.length===0)return-1;var v=0,O;for(O=0;O<s.length;O++)v+=s[O];if(v<=0)throw new Error("Weights must sum to > 0");var A=b()*v;for(O=0;O<s.length;O++){if(A<s[O])return O;A-=s[O]}return 0}function ie(s,v){if(s=l(s,0),v=l(v,1),ae){ae=!1;var O=H;return H=null,s+v*O}else{var A=0,z=0,K=0;do A=b()*2-1,z=b()*2-1,K=A*A+z*z;while(K>=1||K===0);var se=Math.sqrt(-2*Math.log(K)/K);return H=z*se,ae=!0,s+v*(A*se)}}}return hr=E(),hr}var ot=at();const or=er(ot);var lr,un;function st(){if(un)return lr;un=1,lr=u;function u(n,l,E){if(typeof l!="number"||typeof E!="number")throw new TypeError('Must specify "to" and "from" arguments as numbers');if(l>E){var F=l;l=E,E=F}var P=E-l;return P===0?E:n-P*Math.floor((n-l)/P)}return lr}var pr,fn;function ut(){if(fn)return pr;fn=1;var u=Qn(),n=st(),l=Number.EPSILON;function E(d,m,M){return m<M?d<m?m:d>M?M:d:d<M?M:d>m?m:d}function F(d){return E(d,0,1)}function P(d,m,M){return d*(1-M)+m*M}function L(d,m,M){return Math.abs(d-m)<l?0:(M-d)/(m-d)}function q(d,m,M){var _=E(L(d,m,M),0,1);return _*_*(3-2*_)}function Y(d,m){return m=u(m,0),typeof d=="number"&&isFinite(d)?d:m}function H(d){if(typeof d!="number")throw new TypeError("Expected dims argument");return function(m,M){M=u(M,0);var _;m==null?_=M:typeof m=="number"&&isFinite(m)&&(_=m);var k=[],j;if(_==null)for(j=0;j<d;j++)k[j]=Y(m[j],M);else for(j=0;j<d;j++)k[j]=_;return k}}function ae(d,m,M,_){if(_=_||[],d.length!==m.length)throw new TypeError("min and max array are expected to have the same length");for(var k=0;k<d.length;k++)_[k]=P(d[k],m[k],M);return _}function re(d,m){if(d=u(d,0),typeof d!="number")throw new TypeError("Expected n argument to be a number");for(var M=[],_=0;_<d;_++)M.push(m);return M}function b(d,m){if(d=u(d,0),typeof d!="number")throw new TypeError("Expected n argument to be a number");m=m||{},typeof m=="boolean"&&(m={endpoint:!0});var M=u(m.offset,0);return m.endpoint?re(d).map(function(_,k){return d<=1?0:(k+M)/(d-1)}):re(d).map(function(_,k){return(k+M)/d})}function R(d,m,M){m=E(m,0,1);var _=d.length-1,k=m*_,j=Math.floor(k),V=k-j,te=Math.min(j+1,_),B=d[j%d.length],ee=d[te%d.length];if(typeof B=="number"&&typeof ee=="number")return P(B,ee,V);if(Array.isArray(B)&&Array.isArray(ee))return ae(B,ee,V,M);throw new TypeError("Mismatch in value type of two array elements: "+j+" and "+te)}function S(d,m){return(d%m+m)%m}function I(d){return d*Math.PI/180}function f(d){return d*180/Math.PI}function g(d){return d-Math.floor(d)}function C(d){return d>0?1:d<0?-1:0}function D(d,m){return d=S(d,m*2),m-Math.abs(d-m)}function T(d,m,M,_){return P(d,m,1-Math.exp(-M*_))}function W(d,m,M,_,k){k=k||[];for(var j=0;j<d.length;j++)k[j]=T(d[j],m[j],M,_);return k}function Q(d,m,M,_,k,j){if(Math.abs(m-M)<l)return _;var V=(d-m)/(M-m)*(k-_)+_;return j&&(k<_?V<k?V=k:V>_&&(V=_):V>k?V=k:V<_&&(V=_)),V}return pr={mod:S,fract:g,sign:C,degToRad:I,radToDeg:f,wrap:n,pingPong:D,linspace:b,lerp:P,lerpArray:ae,inverseLerp:L,lerpFrames:R,clamp:E,clamp01:F,smoothstep:q,damp:T,dampArray:W,mapRange:Q,expand2D:H(2),expand3D:H(3),expand4D:H(4)},pr}var ft=ut();const Gn=er(ft);var vr,cn;function ct(){if(cn)return vr;cn=1;function u(n){var l=2.5949095;return(n*=2)<1?.5*(n*n*((l+1)*n-l)):.5*((n-=2)*n*((l+1)*n+l)+2)}return vr=u,vr}var gr,dn;function dt(){if(dn)return gr;dn=1;function u(n){var l=1.70158;return n*n*((l+1)*n-l)}return gr=u,gr}var mr,hn;function ht(){if(hn)return mr;hn=1;function u(n){var l=1.70158;return--n*n*((l+1)*n+l)+1}return mr=u,mr}var br,ln;function Jr(){if(ln)return br;ln=1;function u(n){var l=.36363636363636365,E=8/11,F=9/10,P=4356/361,L=35442/1805,q=16061/1805,Y=n*n;return n<l?7.5625*Y:n<E?9.075*Y-9.9*n+3.4:n<F?P*Y-L*n+q:10.8*n*n-20.52*n+10.72}return br=u,br}var xr,pn;function lt(){if(pn)return xr;pn=1;var u=Jr();function n(l){return l<.5?.5*(1-u(1-l*2)):.5*u(l*2-1)+.5}return xr=n,xr}var yr,vn;function pt(){if(vn)return yr;vn=1;var u=Jr();function n(l){return 1-u(1-l)}return yr=n,yr}var wr,gn;function vt(){if(gn)return wr;gn=1;function u(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}return wr=u,wr}var Mr,mn;function gt(){if(mn)return Mr;mn=1;function u(n){return 1-Math.sqrt(1-n*n)}return Mr=u,Mr}var _r,bn;function mt(){if(bn)return _r;bn=1;function u(n){return Math.sqrt(1- --n*n)}return _r=u,_r}var Or,xn;function bt(){if(xn)return Or;xn=1;function u(n){return n<.5?4*n*n*n:.5*Math.pow(2*n-2,3)+1}return Or=u,Or}var Ir,yn;function xt(){if(yn)return Ir;yn=1;function u(n){return n*n*n}return Ir=u,Ir}var Rr,wn;function yt(){if(wn)return Rr;wn=1;function u(n){var l=n-1;return l*l*l+1}return Rr=u,Rr}var Er,Mn;function wt(){if(Mn)return Er;Mn=1;function u(n){return n<.5?.5*Math.sin(13*Math.PI/2*2*n)*Math.pow(2,10*(2*n-1)):.5*Math.sin(-13*Math.PI/2*(2*n-1+1))*Math.pow(2,-10*(2*n-1))+1}return Er=u,Er}var qr,_n;function Mt(){if(_n)return qr;_n=1;function u(n){return Math.sin(13*n*Math.PI/2)*Math.pow(2,10*(n-1))}return qr=u,qr}var Sr,On;function _t(){if(On)return Sr;On=1;function u(n){return Math.sin(-13*(n+1)*Math.PI/2)*Math.pow(2,-10*n)+1}return Sr=u,Sr}var kr,In;function Ot(){if(In)return kr;In=1;function u(n){return n===0||n===1?n:n<.5?.5*Math.pow(2,20*n-10):-.5*Math.pow(2,10-n*20)+1}return kr=u,kr}var Tr,Rn;function It(){if(Rn)return Tr;Rn=1;function u(n){return n===0?n:Math.pow(2,10*(n-1))}return Tr=u,Tr}var Pr,En;function Rt(){if(En)return Pr;En=1;function u(n){return n===1?n:1-Math.pow(2,-10*n)}return Pr=u,Pr}var Cr,qn;function Et(){if(qn)return Cr;qn=1;function u(n){return n}return Cr=u,Cr}var Fr,Sn;function qt(){if(Sn)return Fr;Sn=1;function u(n){return n/=.5,n<1?.5*n*n:(n--,-.5*(n*(n-2)-1))}return Fr=u,Fr}var Dr,kn;function St(){if(kn)return Dr;kn=1;function u(n){return n*n}return Dr=u,Dr}var jr,Tn;function kt(){if(Tn)return jr;Tn=1;function u(n){return-n*(n-2)}return jr=u,jr}var Ar,Pn;function Tt(){if(Pn)return Ar;Pn=1;function u(n){return n<.5?8*Math.pow(n,4):-8*Math.pow(n-1,4)+1}return Ar=u,Ar}var Nr,Cn;function Pt(){if(Cn)return Nr;Cn=1;function u(n){return Math.pow(n,4)}return Nr=u,Nr}var Lr,Fn;function Ct(){if(Fn)return Lr;Fn=1;function u(n){return Math.pow(n-1,3)*(1-n)+1}return Lr=u,Lr}var zr,Dn;function Ft(){if(Dn)return zr;Dn=1;function u(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}return zr=u,zr}var Hr,jn;function Dt(){if(jn)return Hr;jn=1;function u(n){return n*n*n*n*n}return Hr=u,Hr}var $r,An;function jt(){if(An)return $r;An=1;function u(n){return--n*n*n*n*n+1}return $r=u,$r}var Wr,Nn;function At(){if(Nn)return Wr;Nn=1;function u(n){return-.5*(Math.cos(Math.PI*n)-1)}return Wr=u,Wr}var Br,Ln;function Nt(){if(Ln)return Br;Ln=1;function u(n){var l=Math.cos(n*Math.PI*.5);return Math.abs(l)<1e-14?1:1-l}return Br=u,Br}var Qr,zn;function Lt(){if(zn)return Qr;zn=1;function u(n){return Math.sin(n*Math.PI/2)}return Qr=u,Qr}var Gr,Hn;function zt(){return Hn||(Hn=1,Gr={backInOut:ct(),backIn:dt(),backOut:ht(),bounceInOut:lt(),bounceIn:pt(),bounceOut:Jr(),circInOut:vt(),circIn:gt(),circOut:mt(),cubicInOut:bt(),cubicIn:xt(),cubicOut:yt(),elasticInOut:wt(),elasticIn:Mt(),elasticOut:_t(),expoInOut:Ot(),expoIn:It(),expoOut:Rt(),linear:Et(),quadInOut:qt(),quadIn:St(),quadOut:kt(),quartInOut:Tt(),quartIn:Pt(),quartOut:Ct(),quintInOut:Ft(),quintIn:Dt(),quintOut:jt(),sineInOut:At(),sineIn:Nt(),sineOut:Lt()}),Gr}var Ht=zt();const $t=er(Ht);var Yr,$n;function Wt(){return $n||($n=1,Yr={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}),Yr}var Ur,Wn;function Bt(){if(Wn)return Ur;Wn=1;function u(n,l,E){return n*(1-E)+l*E}return Ur=u,Ur}var Kr,Bn;function Qt(){if(Bn)return Kr;Bn=1;var u=Wt(),n=Bt();Kr=l;function l(L){var q,Y,H,ae,re,b,R,S,C,I,f;if(L||(L={}),S=(L.nshades||72)-1,R=L.format||"hex",b=L.colormap,b||(b="jet"),typeof b=="string"){if(b=b.toLowerCase(),!u[b])throw Error(b+" not a supported colorscale");re=u[b]}else if(Array.isArray(b))re=b.slice();else throw Error("unsupported colormap option",b);if(re.length>S+1)throw new Error(b+" map requires nshades to be at least size "+re.length);Array.isArray(L.alpha)?L.alpha.length!==2?I=[1,1]:I=L.alpha.slice():typeof L.alpha=="number"?I=[L.alpha,L.alpha]:I=[1,1],q=re.map(function(W){return Math.round(W.index*S)}),I[0]=Math.min(Math.max(I[0],0),1),I[1]=Math.min(Math.max(I[1],0),1);var g=re.map(function(W,Q){var d=re[Q].index,m=re[Q].rgb.slice();return m.length===4&&m[3]>=0&&m[3]<=1||(m[3]=I[0]+(I[1]-I[0])*d),m}),C=[];for(f=0;f<q.length-1;++f){ae=q[f+1]-q[f],Y=g[f],H=g[f+1];for(var D=0;D<ae;D++){var T=D/ae;C.push([Math.round(n(Y[0],H[0],T)),Math.round(n(Y[1],H[1],T)),Math.round(n(Y[2],H[2],T)),n(Y[3],H[3],T)])}}return C.push(re[re.length-1].rgb.concat(I[1])),R==="hex"?C=C.map(F):R==="rgbaString"?C=C.map(P):R==="float"&&(C=C.map(E)),C}function E(L){return[L[0]/255,L[1]/255,L[2]/255,L[3]]}function F(L){for(var q,Y="#",H=0;H<3;++H)q=L[H],q=q.toString(16),Y+=("00"+q).substr(q.length);return Y}function P(L){return"rgba("+L.join(",")+")"}return Kr}var Gt=Qt();const Yt=er(Gt),Ut={dimensions:[1080,1080],scaleToView:!0,animate:!0},Zr=[],Le={x:9999,y:9999};Yt({colormap:"viridis",nshades:20});let Ve,Se;const Kt=({width:u,height:n,canvas:l})=>{let E,F,P,L;const q=document.createElement("canvas"),Y=q.getContext("2d");q.width=Se.width,q.height=Se.height,Y.drawImage(Se,0,0);const H=Y.getImageData(0,0,Se.width,Se.height).data,ae=30,re=1,b=1;let R=11,S=.1;const I=R;Ve=l,l.addEventListener("mousedown",Zt);for(let f=0;f<ae;f++){const g=Math.PI*2*S,C=f?Math.floor(g/(I*2+b)):1,D=Math.PI*2/C;for(let T=0;T<C;T++){const W=D*T;E=Math.cos(W)*S,F=Math.sin(W)*S,E+=u*.5,F+=n*.5;const Q=Math.floor(E/u*Se.width),m=(Math.floor(F/n*Se.height)*Se.width+Q)*4,M=H[m+0],_=H[m+1],k=H[m+2],j=`rgb(${M}, ${_}, ${k})`;L=Gn.mapRange(M,0,255,1,12),P=new Vt({x:E,y:F,radius:L,colA:j}),Zr.push(P)}S+=I*2+re,R=(1-$t.quadOut(f/ae))*I}return({context:f,width:g,height:C})=>{f.fillStyle="black",f.fillRect(0,0,g,C),f.drawImage(q,0,0),Zr.sort((D,T)=>D.scale-T.scale),Zr.forEach(D=>{D.update(),D.draw(f)})}},Zt=u=>{window.addEventListener("mousemove",Xr),window.addEventListener("mouseup",Yn),Xr(u)},Xr=u=>{const n=u.offsetX/Ve.offsetWidth*Ve.width,l=u.offsetY/Ve.offsetHeight*Ve.height;Le.x=n,Le.y=l,console.log(Le)},Yn=u=>{window.removeEventListener("mousemove",Xr),window.removeEventListener("mouseup",Yn),Le.x=9999,Le.y=9999},Xt=async u=>new Promise((n,l)=>{const E=new Image;E.onload=()=>n(E),E.onerror=()=>l(),E.src=u}),Jt=async()=>{Se=await Xt("images/image-01.png"),nt(Kt,Ut)};Jt();class Vt{constructor({x:n,y:l,radius:E=10,colA:F}){this.x=n,this.y=l,this.ax=0,this.ay=0,this.vx=0,this.vy=0,this.ix=n,this.iy=l,this.radius=E,this.scale=1,this.color=F,this.minDist=or.range(100,200),this.pushFactor=or.range(.02,.02),this.pullFactor=or.range(.002,.006),this.dampFactor=or.range(.9,.95)}update(){let n,l,E,F;n=this.ix-this.x,l=this.iy-this.y,E=Math.sqrt(n*n+l*l),this.ax=n*this.pullFactor,this.ay=l*this.pullFactor,this.scale=Gn.mapRange(E,0,200,1,5),n=this.x-Le.x,l=this.y-Le.y,E=Math.sqrt(n*n+l*l),F=this.minDist-E,E<this.minDist&&(this.ax+=n/E*F*this.pushFactor,this.ay+=l/E*F*this.pushFactor),this.vx+=this.ax,this.vy+=this.ay,this.vx*=this.dampFactor,this.vy*=this.dampFactor,this.x+=this.vx,this.y+=this.vy}draw(n){n.save(),n.translate(this.x,this.y),n.fillStyle=this.color,n.beginPath(),n.arc(0,0,this.radius*this.scale,0,Math.PI*2),n.fill(),n.restore()}}
